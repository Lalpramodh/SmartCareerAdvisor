<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>My Profile | Career Guide</title>
    <link rel="stylesheet" href="{{ url_for('static', filename='styles/profile.css') }}">
</head>
<body>
    <div class="wrapper">
        <h2>Welcome, {{ username }}</h2>
        <h3>Your Prediction History</h3>

        {% if history and history|length > 0 %}
        <table border="1" class="history-table">
            <thead>
                <tr>
                    <th>Date</th>
                    <th>Career Prediction</th>
                    <th>Interested Subjects</th>
                    <th>Career Interest</th>
                </tr>
            </thead>
            <tbody>
                {% for record in history %}
                <tr>
                    <td>{{ record[3].strftime('%Y-%m-%d %H:%M') }}</td>
                    <td>{{ record[0] }}</td>
                    <td>{{ record[1] }}</td>
                    <td>{{ record[2] }}</td>
                </tr>
                {% endfor %}
            </tbody>
        </table>

        <table border="1">
            <caption><b>Interested Subjects</b></caption>
            <tr>
                <th>Serial No</th>
                <th>Interested Subjects</th>
            </tr>
            <tr>
                <td>1</td>
                <td>MERN Stack</td>
            </tr>
            <tr>
                <td>2</td>
                <td>Data Science</td>
            </tr>
            <tr>
                <td>3</td>
                <td>Machine Learning</td>
            </tr>
            <tr>
                <td>4</td>
                <td>Cyber Security</td>
            </tr>
            <tr>
                <td>5</td>
                <td>Cloud Computing</td>
            </tr>
        </table>
        
        <table border="1">
            <caption><b>Career Interest</b></caption>
            <tr>
                <th>Serial No</th>
                <th>Career Options</th>
            </tr>
            <tr>
                <td>1</td>
                <td>Data Scientist</td>
            </tr>
            <tr>
                <td>2</td>
                <td>Full Stack Developer</td>
            </tr>
            <tr>
                <td>3</td>
                <td>Machine Learning Engineer</td>
            </tr>
            <tr>
                <td>4</td>
                <td>Cyber Security Analyst</td>
            </tr>
            <tr>
                <td>5</td>
                <td>Cloud Engineer</td>
            </tr>
        </table>
                
        {% else %}
            <p>No prediction history found. <a href="{{ url_for('input_page') }}">Make your first prediction here!</a></p>
        {% endif %}

        <div class="register">
            <a href="{{ url_for('logout') }}">Logout</a> | <a href="{{ url_for('home') }}">Back to Home</a>
        </div>
    </div>
</body>
</html>
